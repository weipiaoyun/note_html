<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>浠ょ郴缁</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>

<p>
	指令的作用有时和寄存器的作用是一样的。都是控制开关的打开和关闭，比如说，MOV P0,A;就是把A里面的内容写进P0口，其实就是写进P0口结构里的锁存器。而MOV指令就会对控制信号，写锁存器等进行操作。
</p>
	
<p>
	指令分为单字节指令，双字节指令，三字节指令。比如MOV是单字节指令，它是一个助记符，它会翻译成机器语言，控制机器操作。
</p>

<ul>
<li>
<a href="51单片机寻址方式.html">51碌楼片禄煤寻址路陆式</a>

</ul>
<p>
RL A,RL只能对A进行移位，不能对B进行移位，如：RL B是错的。
</p>

<p>
END表示的是汇编的结束。
</p>

<p>
RET是子程序的返回returned ，RETI是中断服务程序的结束。
</p>
<h2 id="toc_0.1">数据传送类指令</h2>

<p>
	MOV指令：MOV:片内00H-FFH数据存储器寻址
	注意：	(1)不能两个都是工作寄存器
</p>

<p>
	MOVC:
	查表指令有两个 都是对程序存储器的。MOVC A,@A + DPTR,MOVC A,@A + PC
	注意：	(1)目的操作数都是累加器A
			(2)PC的话要自动先加1，然后与A相加，作为新的地址，送给A,因为A是8位的，所以，只能在所在地址以后的256B范围的代码或者常数，称近程查表。
			(3)是MOVC,而不是MOV
</p>

<p>
	MOVX指令：片内和片外数据传输的时候用的。片外0000H-FFFFH
			MOVX有几个操作，1，先送数据。2，送数据。3，送数据的的时候WR有效。
	注意：(1)累加器和片外RAM传送，只能用寄存器R0和R1（其它工作寄存器不行）,和数据指针DPTR，而且也只能用寄存器间接寻址。不要忘记了@
			(2)MOVX A,@DPTR执行这条指令时，P3.7输出/RD有效，选通外部数据存储器的读；
			(3)和外部进行数据的传输，因为外部的寻址范围比较广，所以用的是16位的，在传送数据之前要先送地址，选择寄存器。低8位由P0口送，高8位由P2口送
</p>


<h2 id="toc_0.2">跳转指令</h2>
<p>
LCALL指令是占3个字节的指令（即在ROM中占三个字节的空间），执行这个指令后把后面的地址赋值给了PC，把没改变之前的PC进入栈中。
</p>
<h1 id="toc_1">程序的转移类指令</h1>



<p>
(2)条件转移指令
</p>

<p>
CJNE（compare jump not equal不等的时候跳转）:	不等时转，影响c，目的操作数就两个，一个是A（原操作数寻址方式可以是立即数寻址也可以是直接寻址），一个是工作寄存器（原操作数只能是立即数寻址）。
</p>




<h3 id="toc_1.0.1">堆栈类指令</h3>
<p>
堆栈操作指令：PUSH,POP,PUSH和POP后面必须是存储器，不能是寄存器组。
比如下面的是不合法的：
	 PUSH A
	 PUSH R0
	 POP A
</p>

<p>
sp如果复位，其值变为07H
</p>

<h4 id="toc_1.0.1.1">运算类指令</h4>
<p>
运算类：
加减法指令必须有A
ADDC,考虑进位位
SUBB，是带借位的减法。
DEC,减一指令
MUL,乘法指令
DIV,除法指令
</p>

<p>
逻辑类：
CPL A，A中的内容取反。
RL,循环左移
RR,循环右移
RLC,带进位循环右移。
RRC,带进位循环左移。
SWAP，A中的高四位和低四位相互交换。
ANL,与
ORL,或
XRL,异或
</p>


<p>
位操作类指令：
传送类其中一个必是布尔累加器即进位位C
JC:如果进位标志位1，转移
JNC:相反
JB：直接寻址位1，转移
</p>

<h5 id="toc_1.0.1.1.1">交换类指令</h5>
<p>
交换类指令的目的操作数也必须是A
XCH 注意不能直接寻址。XCHD A,@Ri（0~3）表示的是A的低四位和Ri的低四位互换。
</p>

<p>
问题：
</p>
<ul>
<li>
所谓的外部存储器就是ROM吗？

<li>
答：不是，外部存储器有RAM和ROM,内部也有RAM和ROM

</ul>

<p>
怎么区分是访问的是片内RAM，ROM,片外RAM,ROM
(1)看所取的程序是片内的还是片外的，就看/EA的值。如果/EA为0就是片外。
(2)所取的数据是片内的还是片外的，就看指令，如果是片外的就是MOVX,片内的是MOV
(3)看
</p>


<p>
访问外部RAM(反正是存储空间的是后)，MOVX A， @DPTR。把外部RAM地址为DPTR里面的内容送到A里面。就是传送数据，传送数据之前先传送地址，地址是DPTR的值，其实就是选择某个芯片，送片选信号过去而已。有时一个地址可以片选很多东西(但不管怎样都是片选)，例如，8155H芯片的#7F00H 7F是芯片的，00是芯片内部的控制字寄存器。
</p>


<div class="foot">
<button id="back_to_topA" class="back_to_top" style='background-color:red'>杩椤堕</button>

<a id="returnIndexA" href="d:\vim\vim\mysite\note_html\绗璁版寸.html" onclick="fun_a()">
<button id=returnIndex class="back_to_index">杩棣椤</button>
</a>



<HR SIZE=5>
<p class="left">
<!-- <div class="text" style=" text-align:center;font-size:15px"></div>-->
漏 <span id="year">2018</span> 
</p>
<script src="my.js"></script>
</div>
</div>
</body>
</html>
