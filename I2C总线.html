<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

<link rel="Stylesheet" type="text/css" href="style.css">
<link rel="Stylesheet" type="text/css" href="styles/style.css">
<link rel="stylesheet" type="text/css" href="styles/codeStyles/shCore.css">
<link rel="stylesheet" type="text/css" href="styles/codeStyles/shThemeDefault.css">

<title>I2C总线</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>

<p>
工作原理：<br />
	握手阶段：<br />
</p>
	
<p>
	由主机发送起始信号(高山流水)，全部从机接到后进入准备状态。主机发送地址，选择一个从机。在高电平器件从机接收数据，这期间主机不要改变数据。低电平期间，主机改变SDA的值。主机发完一个字节后得把SDA置位高电平(把SDA的控制权给了从机)，从机如果无误就把SDA拉低作为应答信号。主机读取应答信号，确定要不要发下一字节的数据。<br />
</p>
	

<p>
	从机接收数据后与如果和自己则选通，这时主从握手成功。两者可发送接收数据。<br />
</p>


<p>
	发送命令阶段：<br />
	发完地址，握完手以后就得告诉从机是读还是写还是选择地址。这是就得写控制字到控制寄存器里面。发送命令和发送地址是一样的。<br />
</p>

<p>
	发送地址阶段：<br />
	如果写的命令是写地址，则选择完芯片以后就得写芯片里面的地址，也就是放在芯片里的什么位置。选完后芯片的地址已经锁存，不会改变，下次读写数据就在该地址进行。<br />
</p>

<p>
	发送地址总过程：芯片地址，命令，芯片里面内存的地址。写完地址以后得结束。得从新写命令，改变控制寄存器的控制字。<br />
</p>

<p>
	写数据：<br />
	写完写控制字以后，后面的就是写的数据。地址没写完一个字节自动加一(必须在一个页内)。<br />
</p>
	
<p>
	写数据总过程：芯片地址，命令，写的数据(地址得先写好，写好后不会改变)<br />
</p>

<p>
	读数据：<br />
	写完读控制字以后，后面就是读数据了。<br />
</p>

<p>
SCL在SDA下降沿时表示起始信号。<code>山上瀑布开始</code>，<code>冲激海滩高浪停止</code><br />
	读数据总过程：芯片地址，命令，读数据(地址得先写好，写完后不变)<br />
</p>

<p>
<code>I2C是电平有效，SPI是时钟边沿信号有效</code><br />
<code>谁接收谁产生应答位</code><br />
更详细的请看流程图。<br />
</p>


<div class="foot">
<button id="back_to_topA" class="back_to_top" style='background-color:red'>返回顶部</button>

<a id="returnIndexA" href="d:\vim\vim\mysite\note_html\笔记整理.html" onclick="fun_a()">
<button id=returnIndex class="back_to_index">返回首页</button>
</a>



<HR SIZE=5>
<p class="left">
<!-- <div class="text" style=" text-align:center;font-size:15px"></div>-->
© <span id="year">2018</span> 
</p>
<script src="scripts/my.js"></script>
<script type="text/javascript" src="scripts/codeStyleScript/XRegExp.js"></script>
<script type="text/javascript" src="scripts/codeStyleScript/shCore.js"></script>
<script type="text/javascript" src="scripts/codeStyleScript/shBrushJava.js"></script>
<script type="text/javascript" src="scripts/codeStyleScript/shBrushJScript.js"></script>
<script type="text/javascript" src="scripts/codeStyleScript/shBrushSql.js"></script>
<script type="text/javascript" src="scripts/codeStyleScript/shBrushCSharp.js"></script>
<script type="text/javascript" src="scripts/codeStyleScript/shBrushCss.js"></script>
<script type="text/javascript" src="scripts/codeStyleScript/shBrushPerl.js"></script>
<script type="text/javascript">
	SyntaxHighlighter.all()
</script>
</div>
</div>
</body>
</html>
